{"ast":null,"code":"import _slicedToArray from\"C:/Users/Yann/Documents/GitHub/erasmus-project-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Footer from\"./pageComponent/Footer\";import ContentBox from\"./pageComponent/ContentBox\";import ButtonProfile from\"./pageComponent/ButtonProfile\";import ButtonLogout from\"./pageComponent/ButtonLogout.js\";import Search from\"./pageComponent/Search.js\";import erasmus from\"./pageComponent/ComponentImg/img_avatar2.png\";import{useCookies}from\"react-cookie\";import{useNavigate}from\"react-router-dom\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RecipeTempl(props){var navigate=useNavigate();var _useCookies=useCookies(['name']),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var _useState=useState(1),_useState2=_slicedToArray(_useState,2),recipeShowNumber=_useState2[0],setRecipeShowNumber=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),recipeShowNumberUpdate=_useState4[0],setRecipeShowNumberUpdate=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),recipeContent1=_useState6[0],setRecipeContent1=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),recipeContent2=_useState8[0],setRecipeContent2=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),recipeContent3=_useState10[0],setRecipeContent3=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),searchText=_useState12[0],setSearchText=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),updatedSearchText=_useState14[0],setUpdatedSearchText=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),SearchTextUpdate=_useState16[0],setSearchTextUpdate=_useState16[1];if(recipeShowNumberUpdate!=recipeShowNumber||SearchTextUpdate!=updatedSearchText){setRecipeShowNumberUpdate(recipeShowNumber);setSearchTextUpdate(updatedSearchText);axios.post('http://localhost:5000/recipe',{recipeId:recipeShowNumber,search:updatedSearchText}).then(function(response){console.log(response);setRecipeContent1(response.data);}).catch(function(error){console.log(error);});axios.post('http://localhost:5000/recipe',{recipeId:recipeShowNumber+1,search:updatedSearchText}).then(function(response){console.log(response);setRecipeContent2(response.data);}).catch(function(error){console.log(error);});axios.post('http://localhost:5000/recipe',{recipeId:recipeShowNumber+2,search:updatedSearchText}).then(function(response){console.log(response);setRecipeContent3(response.data);}).catch(function(error){console.log(error);});}function onClickHandlerRight(event){event.preventDefault();if(recipeContent1.length+2>recipeShowNumber+2){setRecipeShowNumber(recipeShowNumber+1);console.log(recipeShowNumber);}}function onClickHandlerLeft(event){event.preventDefault();if(recipeShowNumber>1){setRecipeShowNumber(recipeShowNumber-1);}console.log(recipeShowNumber);}function logout(event){event.preventDefault();removeCookie(\"token\");navigate(\"/\");}function searchButton(event){event.preventDefault();setUpdatedSearchText(searchText);setRecipeShowNumber(1);}function searchOnChange(event){event.preventDefault();setSearchText(event.target.value);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{class:\"w3-top\",children:/*#__PURE__*/_jsx(\"div\",{class:\"recipeHeader\",children:/*#__PURE__*/_jsx(\"div\",{class:\"w3-bar w3-theme1\",id:\"myNavbar\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"Buttonfix\",children:[/*#__PURE__*/_jsx(ButtonLogout,{logout:logout,w3classprops:\"w3-center w3-hide-small\",typeCustom:\"button\"}),/*#__PURE__*/_jsx(ButtonProfile,{w3classprops:\"w3-center w3-hide-small\",typeCustom:\"button\"}),/*#__PURE__*/_jsx(Search,{w3classprops:\"w3-hide-small w3-right\",searchButton:searchButton,searchOnChange:searchOnChange,searchText:searchText}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",class:\"w3-center w3-hide-small\",value:\" \\u27A1 \",onClick:onClickHandlerRight}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",class:\"w3-center w3-hide-small\",value:\" \\u2B05 \",onClick:onClickHandlerLeft}),/*#__PURE__*/_jsx(\"img\",{src:erasmus,alt:\"ImgNotFound\",class:\"avatar w3-bar w3-margin w3-hide-small\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"w3-hide-large \",children:[/*#__PURE__*/_jsx(\"img\",{src:erasmus,alt:\"ImgNotFound\",class:\"avatar w3-bar w3-margin w3-hide-large\"}),/*#__PURE__*/_jsx(ButtonProfile,{w3classprops:\"w3-center w3-hide-large w3-margin-top w3-top\",typeCustom:\"reset\"}),/*#__PURE__*/_jsx(ButtonLogout,{logout:logout,w3classprops:\"w3-center w3-hide-large w3-right w3-margin \",typeCustom:\"reset\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"reset\",class:\"w3-center w3-hide-large w3-right w3-margin-right w3-margin-bottom\",value:\"Next\",onClick:onClickHandlerRight}),/*#__PURE__*/_jsx(\"input\",{type:\"reset\",class:\"w3-center w3-hide-large w3-left w3-margin-left\",value:\"Back\",onClick:onClickHandlerLeft}),/*#__PURE__*/_jsx(Search,{w3classprops:\"w3-right\"})]})]})]})})})}),/*#__PURE__*/_jsx(ContentBox,{recipeContent:recipeContent1}),/*#__PURE__*/_jsxs(\"div\",{class:\"w3-hide-small\",children:[/*#__PURE__*/_jsx(ContentBox,{recipeContent:recipeContent2}),/*#__PURE__*/_jsx(ContentBox,{recipeContent:recipeContent3})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default RecipeTempl;","map":{"version":3,"names":["React","useState","Footer","ContentBox","ButtonProfile","ButtonLogout","Search","erasmus","useCookies","useNavigate","axios","RecipeTempl","props","navigate","cookies","setCookie","removeCookie","recipeShowNumber","setRecipeShowNumber","recipeShowNumberUpdate","setRecipeShowNumberUpdate","recipeContent1","setRecipeContent1","recipeContent2","setRecipeContent2","recipeContent3","setRecipeContent3","searchText","setSearchText","updatedSearchText","setUpdatedSearchText","SearchTextUpdate","setSearchTextUpdate","post","recipeId","search","then","response","console","log","data","catch","error","onClickHandlerRight","event","preventDefault","length","onClickHandlerLeft","logout","searchButton","searchOnChange","target","value"],"sources":["C:/Users/Yann/Documents/GitHub/erasmus-project-frontend/src/pages/RecipeTempl.js"],"sourcesContent":["import React,{ useState } from \"react\";\r\n\r\nimport Footer from \"./pageComponent/Footer\";\r\nimport ContentBox from \"./pageComponent/ContentBox\";\r\nimport ButtonProfile from \"./pageComponent/ButtonProfile\";\r\nimport ButtonLogout from \"./pageComponent/ButtonLogout.js\";\r\nimport Search from \"./pageComponent/Search.js\";\r\n \r\nimport erasmus from \"./pageComponent/ComponentImg/img_avatar2.png\"; \r\n\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\n\r\nimport axios from 'axios';\r\n\r\nfunction RecipeTempl(props){\r\n    const navigate = useNavigate()\r\n    const [cookies, setCookie, removeCookie] = useCookies(['name']);\r\n\r\n    const [recipeShowNumber, setRecipeShowNumber ] = useState(1);\r\n    const [recipeShowNumberUpdate, setRecipeShowNumberUpdate ] = useState(0);\r\n    const [recipeContent1, setRecipeContent1] = useState({});\r\n    const [recipeContent2, setRecipeContent2] = useState({});\r\n    const [recipeContent3, setRecipeContent3] = useState({});\r\n\r\n    const [searchText, setSearchText] = useState(\"\");\r\n    const [updatedSearchText, setUpdatedSearchText] = useState(\"\");\r\n    const [SearchTextUpdate, setSearchTextUpdate] = useState(\"\");\r\n\r\n    if(recipeShowNumberUpdate != recipeShowNumber || SearchTextUpdate != updatedSearchText){\r\n        setRecipeShowNumberUpdate(recipeShowNumber);\r\n        setSearchTextUpdate(updatedSearchText);\r\n        axios.post('http://localhost:5000/recipe', {recipeId: recipeShowNumber, search: updatedSearchText})\r\n            .then(response =>{\r\n                console.log(response)\r\n                setRecipeContent1(response.data)\r\n            })\r\n            .catch(error => {\r\n                console.log(error) \r\n            })\r\n\r\n        axios.post('http://localhost:5000/recipe', {recipeId: recipeShowNumber + 1, search: updatedSearchText})\r\n        .then(response =>{\r\n            console.log(response)\r\n            setRecipeContent2(response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(error) \r\n        })\r\n\r\n        axios.post('http://localhost:5000/recipe', {recipeId: recipeShowNumber + 2, search: updatedSearchText})\r\n        .then(response =>{\r\n            console.log(response)\r\n            setRecipeContent3(response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(error) \r\n        })\r\n\r\n    }\r\n\r\n    function onClickHandlerRight(event){\r\n        event.preventDefault();\r\n        if(recipeContent1.length + 2 > recipeShowNumber + 2){\r\n            setRecipeShowNumber(recipeShowNumber + 1);\r\n            console.log(recipeShowNumber);\r\n        }\r\n    }\r\n\r\n    function onClickHandlerLeft(event){\r\n        event.preventDefault();\r\n        if(recipeShowNumber > 1){\r\n            setRecipeShowNumber(recipeShowNumber - 1);\r\n        }\r\n        console.log(recipeShowNumber);\r\n    }\r\n\r\n    function logout(event){\r\n        event.preventDefault();\r\n        removeCookie(\"token\");\r\n        navigate(\"/\");\r\n    }\r\n\r\n    function searchButton(event){\r\n        event.preventDefault();\r\n        setUpdatedSearchText(searchText);\r\n        setRecipeShowNumber(1);\r\n    }\r\n\r\n    function searchOnChange(event){\r\n        event.preventDefault();\r\n        setSearchText(event.target.value);\r\n    }\r\n\r\n\r\n    return(\r\n        <div >\r\n            \r\n                <div class=\"w3-top\">\r\n\r\n                    <div class=\"recipeHeader\">\r\n\r\n                        <div class=\"w3-bar w3-theme1\" id=\"myNavbar\">\r\n\r\n                            <div class=\"Buttonfix\">\r\n                                \r\n                                <ButtonLogout logout={logout} w3classprops={\"w3-center w3-hide-small\"} typeCustom={\"button\"} ></ButtonLogout>\r\n                                <ButtonProfile w3classprops={\"w3-center w3-hide-small\"} typeCustom={\"button\"} ></ButtonProfile>\r\n                                \r\n                                <Search w3classprops={\"w3-hide-small w3-right\"} searchButton={searchButton} searchOnChange={searchOnChange} searchText={searchText}></Search>\r\n\r\n                                <input type=\"button\" class=\"w3-center w3-hide-small\" value=\" ➡ \" onClick={onClickHandlerRight}></input>\r\n                                <input type=\"button\" class=\"w3-center w3-hide-small\" value=\" ⬅ \" onClick={onClickHandlerLeft}></input>\r\n                                    \r\n                                <img src={erasmus} alt=\"ImgNotFound\" class=\"avatar w3-bar w3-margin w3-hide-small\" />\r\n\r\n                                <div class=\"w3-hide-large \">\r\n                                    <img src={erasmus} alt=\"ImgNotFound\" class=\"avatar w3-bar w3-margin w3-hide-large\" />\r\n\r\n                                    <ButtonProfile w3classprops={\"w3-center w3-hide-large w3-margin-top w3-top\"} typeCustom={\"reset\"} ></ButtonProfile>\r\n                                    <ButtonLogout logout={logout} w3classprops={\"w3-center w3-hide-large w3-right w3-margin \"} typeCustom={\"reset\"} ></ButtonLogout>\r\n                                    \r\n                                    <div>\r\n                                        <input type=\"reset\" class=\"w3-center w3-hide-large w3-right w3-margin-right w3-margin-bottom\"value=\"Next\"  onClick={onClickHandlerRight}></input>\r\n                                        <input type=\"reset\" class=\"w3-center w3-hide-large w3-left w3-margin-left\" value=\"Back\" onClick={onClickHandlerLeft}></input>\r\n                                        <Search w3classprops={\"w3-right\"}></Search>\r\n                                    </div>\r\n\r\n                                    \r\n\r\n                                </div>\r\n\r\n                            </div>        \r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    \r\n                </div>\r\n\r\n            <ContentBox recipeContent={recipeContent1}></ContentBox>\r\n\r\n            <div class=\"w3-hide-small\">\r\n                <ContentBox recipeContent={recipeContent2}></ContentBox>\r\n                <ContentBox recipeContent={recipeContent3}></ContentBox>\r\n\r\n            </div>\r\n\r\n            <Footer></Footer>\r\n\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default RecipeTempl; "],"mappings":"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"},"metadata":{},"sourceType":"module"}