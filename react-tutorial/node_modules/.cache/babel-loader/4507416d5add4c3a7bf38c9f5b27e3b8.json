{"ast":null,"code":"import _slicedToArray from\"C:/Users/Yann/Documents/GitHub/erasmus-project/react-tutorial/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from'axios';import Footer from\"./pageComponent/Footer\";import erasmus from\"./logo/img_avatar2.png\";import{useNavigate}from\"react-router-dom\";import{Link}from\"react-router-dom\";import{useCookies}from\"react-cookie\";import Invalidtxt from\"./pageComponent/Invalidtxt\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),invalidTEXT=_useState6[0],setInvalidTEXT=_useState6[1];var _useCookies=useCookies(['name']),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];//Wenn du eingeloggt bist, wirst du direkt zur Navigation page weitergeleitet\naxios.post(\"http://localhost:5000/secured/user\",{token:cookies.token}).then(function(response){console.log(response);//Das passiert hier\nnavigate(\"/navigation\");}).catch(function(error){console.log(error);});function changeHandlerEmail(event){setEmail(event.target.value);}function changeHandlerPassword(event){setPassword(event.target.value);}function submitHandler(event){event.preventDefault();var data={emailOrUsername:email,password:password};axios.post('http://localhost:5000/login',data).then(function(response){console.log(response);removeCookie(\"token\");setCookie(\"token\",response.data,{path:\"/\"});navigate(\"/navigation\");}).catch(function(error){console.log(error);setInvalidTEXT(true);});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:erasmus,alt:\"Avatar\",class:\"avatar w3-right w3-hide-middle w3-hide-small\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"center\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\" w3-center w3-hide-large w3-margin-top\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(Invalidtxt,{text:\"EMAIL or PASSWORD is wrong\",invalidTEXT:invalidTEXT})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"w3-hide-small\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(Invalidtxt,{text:\"EMAIL or PASSWORD is wrong\",invalidTEXT:invalidTEXT})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"txt_field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",name:\"email\",value:email,onChange:changeHandlerEmail,required:true}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Enter Email or Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"txt_field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,onChange:changeHandlerPassword,required:true}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Enter Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"style2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/frgtpass\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Forgot Password ?\"})}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"+ Sign up\"})}),/*#__PURE__*/_jsx(Link,{to:\"/navigation\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Continue without Login\"})})]})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default Login;","map":{"version":3,"names":["React","useState","axios","Footer","erasmus","useNavigate","Link","useCookies","Invalidtxt","Login","props","navigate","email","setEmail","password","setPassword","invalidTEXT","setInvalidTEXT","cookies","setCookie","removeCookie","post","token","then","response","console","log","catch","error","changeHandlerEmail","event","target","value","changeHandlerPassword","submitHandler","preventDefault","data","emailOrUsername","path"],"sources":["C:/Users/Yann/Documents/GitHub/erasmus-project/react-tutorial/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport Footer from \"./pageComponent/Footer\"; \r\n\r\nimport erasmus from \"./logo/img_avatar2.png\";\r\n\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nimport Invalidtxt from \"./pageComponent/Invalidtxt\";\r\n\r\n\r\n\r\n\r\n\r\nfunction Login(props){\r\n    const navigate = useNavigate()\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [invalidTEXT, setInvalidTEXT] = useState(false);\r\n    const [cookies, setCookie, removeCookie] = useCookies(['name']);\r\n\r\n\r\n    //Wenn du eingeloggt bist, wirst du direkt zur Navigation page weitergeleitet\r\n    axios.post(\"http://localhost:5000/secured/user\", {token: cookies.token})\r\n    .then(response =>{\r\n        console.log(response)\r\n        //Das passiert hier\r\n        navigate(\"/navigation\");\r\n    })\r\n    .catch(error => {\r\n        console.log(error)\r\n    })\r\n\r\n    function changeHandlerEmail(event){\r\n        setEmail(event.target.value);\r\n    }\r\n\r\n    function changeHandlerPassword(event){\r\n        setPassword(event.target.value);\r\n    }\r\n\r\n    function submitHandler(event){\r\n        event.preventDefault()\r\n        let data = {\r\n            emailOrUsername: email,\r\n            password: password\r\n        }\r\n        axios.post('http://localhost:5000/login', data)\r\n        .then(response =>{\r\n            console.log(response)\r\n            removeCookie(\"token\");\r\n            setCookie(\"token\", response.data, {path: \"/\"});\r\n            navigate(\"/navigation\");\r\n        })\r\n        .catch(error => {\r\n            console.log(error) \r\n            setInvalidTEXT(true);\r\n        })\r\n    }\r\n\r\n\r\n    \r\n    return(\r\n        <div>\r\n\r\n            <img src={erasmus} alt=\"Avatar\" class=\"avatar w3-right w3-hide-middle w3-hide-small\"/>\r\n\r\n            <div class=\"center\">\r\n\r\n                <div class=\" w3-center w3-hide-large w3-margin-top\">\r\n                    <h1>Login</h1>\r\n\r\n                    <Invalidtxt text={\"EMAIL or PASSWORD is wrong\"} invalidTEXT={invalidTEXT}></Invalidtxt>\r\n                </div>\r\n\r\n                <div class=\"w3-hide-small\">\r\n                    <h1>Login</h1>\r\n\r\n                    <Invalidtxt text={\"EMAIL or PASSWORD is wrong\"} invalidTEXT={invalidTEXT}></Invalidtxt>\r\n                </div>\r\n\r\n                <form onSubmit={submitHandler}>\r\n\r\n                    <div class=\"txt_field\">\r\n                        <input type=\"text\" id=\"email\" name=\"email\" value={email} onChange = {changeHandlerEmail} required/>\r\n                        <span></span>\r\n                        <label>Enter Email or Username</label>\r\n                    </div>\r\n\r\n                    <div class=\"txt_field\">\r\n                        <input type=\"password\" id=\"password\" name=\"password\" value={password} onChange = {changeHandlerPassword} required/>\r\n                        <span></span>\r\n                        <label>Enter Password</label>\r\n                    </div>\r\n\r\n                    <div class=\"style2\">\r\n                        <input type=\"submit\" value=\"Login\"></input>\r\n                        <Link to=\"/frgtpass\"><input type=\"submit\" value=\"Forgot Password ?\"></input></Link>\r\n                        <Link to=\"/register\"><input type=\"submit\" value=\"+ Sign up\"></input></Link>\r\n                        <Link to=\"/navigation\"><input type=\"submit\" value=\"Continue without Login\"></input></Link>\r\n                    </div>\r\n\r\n                </form>\r\n                \r\n            </div>\r\n            \r\n            <Footer></Footer>\r\n\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}